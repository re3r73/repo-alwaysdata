# Atelier Alwaysdata + GitHub Actions üöÄ

## Installation de votre environnement de travail

### Objectif g√©n√©ral
Cet atelier a pour objectif de vous apprendre √† mettre en place votre environnement de travail dans le cadre du module **NFA040**.

Vous allez :
- Cr√©er votre h√©bergement de site
- D√©couvrir les Actions et les Secrets GitHub
- Automatiser le d√©ploiement de votre site via GitHub Actions
- Et m√™me faire tourner une application Python sur Alwaysdata üéâ

Large programme, mais tout √† fait accessible ! Pas besoin de pr√©requis techniques, il suffit d‚Äôun peu d‚Äôobservation et de rigueur.

---

## S√©quence 1 : GitHub

**Objectif :** Cr√©ation d'un Repository GitHub pour h√©berger et d√©ployer votre projet  
**Difficult√© :** Tr√®s facile (~10 minutes)

GitHub est une plateforme collaborative pour stocker et g√©rer son code source.  
Chaque **repository** correspond √† un projet unique.

### Proc√©dure :
1. Cr√©ez votre compte GitHub : [Cr√©er un compte GitHub](https://github.com/)
   - Tutoriel vid√©o : [Cr√©er un compte GitHub](https://docs.github.com/fr/get-started/onboarding/getting-started-with-your-github-account)
   - ‚ö†Ô∏è Utilisez une adresse e-mail valide, pas de mail temporaire.

2. Forkez ce repository : [https://github.com/jeremiepoujol/repo-alwaysdata.git](https://github.com/jeremiepoujol/repo-alwaysdata.git)
   - Tutoriel vid√©o : [Forker ce projet](https://youtu.be/p33-7XQ29zQ)

### Travail demand√© :
‚úÖ Cr√©ez votre compte GitHub, forkez ce projet et **postez l‚ÄôURL de votre repository dans la discussion publique**.

### Notions acquises :
- Cr√©ation de repository GitHub
- Fork d'un projet existant pour l'adapter √† ses besoins

---

## S√©quence 2 : Cr√©er un h√©bergement en ligne

**Objectif :** Cr√©er un h√©bergement Alwaysdata pour publier votre site  
**Difficult√© :** Facile (~10 minutes)

### Proc√©dure :
1. Cr√©ez votre compte sur Alwaysdata : [https://www.alwaysdata.com/fr/](https://www.alwaysdata.com/fr/)
   - Tutoriel vid√©o : [Cr√©er un compte Alwaysdata](https://youtu.be/6jJiqv_ZCHg)

2. Activez l‚Äôacc√®s SSH depuis la console Alwaysdata :
   - Rendez-vous dans **SSH (Acc√®s distant)**
   - Modifiez les param√®tres de votre utilisateur
   - Cochez **Activer la connexion par mot de passe**

### Travail demand√© :
‚úÖ Cr√©ez votre h√©bergement et **postez l‚ÄôURL de votre site dans la discussion publique**.

### Notions acquises :
- D√©couverte d‚ÄôAlwaysdata, h√©bergement gratuit et flexible
- Activation d‚Äôoutils avanc√©s comme SSH

---

## S√©quence 3 : Automatiser avec GitHub Actions (CI/CD)

**Objectif :** Automatiser la mise √† jour de votre site avec GitHub Actions  
**Difficult√© :** Moyenne (~15 minutes)

Gr√¢ce au fichier **CICD.yml** dans `.github/workflows/`, chaque modification de votre repository sera automatiquement d√©ploy√©e sur votre h√©bergement Alwaysdata.

### √âtapes :

1. Cr√©ez **2 secrets GitHub** dans votre repository :
   - `alwaydata_username` : votre login SSH Alwaysdata
   - `alwaydata_password` : votre mot de passe SSH Alwaysdata

   Tutoriel vid√©o : [Cr√©er des secrets GitHub](https://youtu.be/Rv5X5-qbvqA)

2. √Ä chaque commit, GitHub ex√©cutera automatiquement le script pour mettre √† jour votre h√©bergement.

### Notions acquises :
- Utilisation des GitHub Actions pour l‚Äôautomatisation
- S√©curisation des identifiants gr√¢ce aux Secrets GitHub

---

## S√©quence 4 : Personnalisez votre page d‚Äôaccueil

**Objectif :** Modifier votre page d‚Äôaccueil HTML  
**Difficult√© :** Facile (~10 minutes)

Modifiez votre fichier `index.html` dans votre repository.

Remplacez la ligne du titre par :

```html
<h1>Ceci est mon Site Internet by J√©r√©mie</h1>

Effectuez un commit pour publier les changements üöÄ

### Travail demand√© :
‚úÖ Modifiez et validez votre page d‚Äôaccueil pour voir les changements en ligne.

### Notions acquises :
- Modification de fichiers directement depuis GitHub
- D√©ploiement automatique via GitHub Actions

---

## S√©quence 5 : Bonus - Ajouter une application Python sur Alwaysdata üêç

**Objectif :** Mettre en ligne une application Python sur Alwaysdata  
**Difficult√© :** Moyenne (~15 minutes)

Alwaysdata permet non seulement d‚Äôh√©berger des sites web statiques ou PHP, mais aussi des applications Python gr√¢ce √† ce que l‚Äôon appelle le protocole WSGI.

Cette s√©quence vous permettra de cr√©er un petit script Python de test, et de l‚Äôex√©cuter en ligne depuis votre h√©bergement Alwaysdata.

### Proc√©dure :

1¬∞ - Cr√©ez un fichier Python dans votre r√©pertoire `www/`  
Nommez-le par exemple `sample.py`.  
Copiez le code suivant dans ce fichier :

```python
def application(environ, start_response):
    status = '200 OK'
    headers = [('Content-type', 'text/html; charset=utf-8')]
    start_response(status, headers)

    response = """
    <html>
        <head><title>Exemple Python sur Alwaysdata</title></head>
        <body style='font-family: Arial, sans-serif; background-color: #f9f9f9; padding: 40px;'>
            <h1>Bonjour depuis un script Python sur Alwaysdata üéâ</h1>
            <p>Votre application Python fonctionne correctement.</p>
            <h2>Variables d'environnement :</h2>
            <ul>
    """

    for key, value in environ.items():
        response += f"<li><strong>{key}</strong>: {value}</li>"

    response += """
            </ul>
        </body>
    </html>
    """

    return [response.encode('utf-8')]
